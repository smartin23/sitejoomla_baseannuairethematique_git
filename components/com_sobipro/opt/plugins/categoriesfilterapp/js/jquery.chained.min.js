/*
 * Chained - jQuery non AJAX(J) chained selects plugin
 *
 * Copyright (c) 2010-2011 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 */

(function($){$.fn.chained=function(parent_selector,options){return this.each(function(){var self=this;var backup=$(self).clone();$(parent_selector).each(function(){$(this).bind("change",function(){$(self).html(backup.html());var selected="";$(parent_selector).each(function(){selected+="\\"+$(":selected",this).val()});selected=selected.replace(/[^0-9a-zA-Z_\-]/g,"");var first=$(parent_selector).first();var selected_first=$(":selected",first).val();$("option",self).each(function(){if(!$(this).hasClass(selected)&&!$(this).hasClass(selected_first)&&$(this).val()!==""){$(this).remove()}});if(1==$("option",self).size()&&$(self).val()===""){$(self).attr("disabled","disabled")}else{$(self).removeAttr("disabled")}$(self).trigger("change")});if(!$("option:selected",this).length){$("option",this).first().attr("selected","selected")}$(this).trigger("change")})})};$.fn.chainedTo=$.fn.chained})(jQuery);
